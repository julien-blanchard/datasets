<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <script src="https://cdn.jsdelivr.net/npm/vega@5.20.2"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.1.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.17.0"></script>
    <title></title>
  </head>
  <body>
    <h2 class="headText" style="font-family:verdana">Pokemon visualiser</h2>
    <input type="text" value="">
    <button type="button" name="button">Upload your CSV file</button>
    <br>
    <br>
    <div id="vis1"></div>
    <div id="vis2"></div>
    <div id="vis3"></div>
    <div id="vis4"></div>
    <script type="text/javascript">
      function getPlot(plotLocation) {
        let spec = {
        "$schema": "https://vega.github.io/schema/vega-lite/v2.0.json",
        "width": 400,
        "height": 250,
        "config": {"axis": {"grid": false}, "view": {"strokeWidth":0},"font":"verdana", "background":"white"},
        "title": {"text":"Top primary categories", "anchor":"start"},
        "description": "Pokemon dataset visualiszation",
        "data": {"url": "https://raw.githubusercontent.com/julien-blanchard/dbs/main/pokemon_go.csv"},
        "mark": {"type":"bar", "tooltip": true},
        "encoding": {
          "x": {"field": "Attack", "aggregate": "mean", "title": "Volume"},
          "y": {"field": "Primary", "type": "nominal", "sort":"-x"},
          "color": {"field": "Attack", "aggregate": "mean", "title": "Volume", "scale": {"scheme": "yellowgreenblue"}}
          }
        }
        vegaEmbed(plotLocation, spec, {})
      };

      function getBarPlot(plotLocation) {
        let spec = {
        "$schema": "https://vega.github.io/schema/vega-lite/v2.0.json",
        "width": 400,
        "height": 250,
        "config": {"axis": {"grid": false}, "view": {"strokeWidth":0},"font":"verdana", "background":"white"},
        "title": {"text":"Top primary types", "anchor":"start"},
        "description": "Pokemon dataset visualiszation",
        "data": {"url": "https://raw.githubusercontent.com/julien-blanchard/dbs/main/pokemon_go.csv"},
        "mark": {"type":"bar", "tooltip": true},
         "encoding": {
          "x": {"field": "Attack", "aggregate": "mean", "title": "Volume"},
          "y": {"field": "Primary", "type": "nominal"},
          "color": {"field":"Generation","type":"nominal", "sort":"descending", "scale": {"scheme": "yellowgreenblue"}}
          }
        }
        vegaEmbed(plotLocation, spec, {})
      };

      function getScatterrPlot(plotLocation) {
        let spec = {
        "$schema": "https://vega.github.io/schema/vega-lite/v2.0.json",
        "width": 400,
        "height": 250,
        "config": {"axis": {"grid": false}, "view": {"strokeWidth":0},"font":"verdana", "background":"white"},
        "title": {"text":"Relationship between attack and defense", "anchor":"start"},
        "description": "Pokemon dataset visualiszation",
        "data": {"url": "https://raw.githubusercontent.com/julien-blanchard/dbs/main/pokemon_go.csv"},
        "mark": {"type":"point", "tooltip": true},
         "encoding": {
          "x": {"field": "Attack", "type":"quantitative", "title": "Volume"},
          "y": {"field": "Defense", "type": "quantitative"},
          "color": {"field":"Generation","type":"nominal", "scale": {"scheme": "yellowgreenblue"}},
          "size": {"field":"Generation","type":"nominal"}
          }
        }
        vegaEmbed(plotLocation, spec, {})
      };

      function getLinePlot(plotLocation) {
        let spec = {
        "$schema": "https://vega.github.io/schema/vega-lite/v2.0.json",
        "width": 400,
        "height": 250,
        "config": {"axis": {"grid": false}, "view": {"strokeWidth":0},"font":"verdana", "background":"white"},
        "title": {"text":"Relationship between attack and defense", "anchor":"start"},
        "description": "Pokemon dataset visualiszation",
        "data": {"url": "https://raw.githubusercontent.com/julien-blanchard/dbs/main/pokemon_go.csv"},
        "mark": {"type":"line", "tooltip": true},
         "encoding": {
          "x": {"field": "Attack", "type":"quantitative", "title": "Volume"},
          "y": {"field": "Defense", "type": "quantitative"},
          "color": {"field": "Defense", "type": "quantitative", "scale": {"scheme": "yellowgreenblue"}}
          }
        }
        vegaEmbed(plotLocation, spec, {})
      };

      getBarPlot("#vis1")
      getPlot("#vis2")
      getScatterrPlot("#vis3")
      getLinePlot("#vis4")
    </script>
  </body>
</html>
